  <!--[if lt IE 9]>
    <script src="{{ site.baseurl }}/js/vendor/selectivizr-min.js"></script>
    <script src="{{ site.baseurl }}/js/vendor/respond.min.js"></script>
    <script src="{{ site.baseurl }}/js/vendor/rem.min.js"></script>
  <![endif]-->
  <script src="{{ site.baseurl }}/js/usajobs-help-center.js"></script>
  <script src="{{ site.baseurl }}/js/usajobs-help-center-components.js"></script>

{% include base.html %}
{% raw %}
<script id="search-results-template" type="text/mustache">
  {{#entries}}
    <article>
      <a class="usajobs-help-center-search__result" href="/Help{{ url }}">
        {{title}}
      </a>
    </article>
  {{/entries}}
</script>
{% endraw %}

<script type="text/javascript">
  $(function() {
    $('#search-query').lunrSearch({
      indexUrl: '{{ site.baseurl }}/js/index.json',   // Url for the .json file containing search index data
      results : '#search-results',  // selector for containing search results element
      entries : '.entries',         // selector for search entries containing element (contained within results above)
      template: '#search-results-template'  // selector for Mustache.js template
    });

    setTimeout(function () {
      // Have to wait for the results to load.
      var $results = $('#search-results'),
        $entries = $results.find('.entries');
        result_count = $results.find('.usajobs-help-center-search__result').length,
        $no_results_content = $results.find('.usajobs-help-center-search-no-results');

      if (result_count === undefined || result_count.length === 0 || result_count === 0) {
        // Swap in some no results help content
        $no_results_content
          .show()
          .attr('aria-hidden', 'false');
      } else {
        $no_results_content
          .hide()
          .attr('aria-hidden', 'true');
        $entries.prepend('<h4 class="usajobs-help-center-search__result-count">Viewing ' + result_count + ' results.</h4>');
      }
    }, 500);
  });
</script>
